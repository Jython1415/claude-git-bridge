# Claude Git Bridge

HTTPS proxy enabling Claude.ai to perform git operations through a secure tunnel to your local machine via Tailscale Funnel.

## Quick Start

```bash
# 1. Setup dependencies
./scripts/setup.sh

# 2. Install and configure Tailscale (see docs/TAILSCALE_SETUP.md)
brew install tailscale
sudo tailscale up
tailscale funnel --bg 8443

# 3. Get your stable URL
tailscale funnel status
# Example: https://your-machine.tail12345.ts.net:8443

# 4. Start server
./scripts/start_server.sh
```

For detailed setup instructions, see [docs/TAILSCALE_SETUP.md](docs/TAILSCALE_SETUP.md)

## Usage

```python
from git_client import GitProxyClient

client = GitProxyClient()  # Reads from env vars
repo = client.clone('https://github.com/user/repo.git')
client.commit(repo, "Update from Claude")
client.push(repo)
```

## Configuration

**Local .env** (for server, in repo):
- `PROXY_SECRET_KEY` - Auth token (auto-generated by setup)
- `GIT_WORKSPACE` - Workspace directory (optional)

**Claude.ai Project .env** (NOT in repo, manual):
- `GIT_PROXY_URL` - Your Tailscale Funnel URL
- `GIT_PROXY_KEY` - Same as `PROXY_SECRET_KEY` above

## Architecture

```
Claude.ai Skills
  → HTTPS → Tailscale Funnel (stable URL)
  → Your MacBook (auto-starts on boot)
  → Flask Proxy → Git Commands → GitHub
```

**Key Features**:
- Stable URL that never changes: `https://<machine>.tail12345.ts.net:8443`
- Auto-starts when your Mac boots (with `--bg` flag)
- Works across WiFi changes seamlessly
- Free forever for personal use

## Security

- Token authentication required
- Only git commands allowed
- Workspace isolation
- Full audit logging

## Use Cases

- **Basic**: Clone, commit, push from Claude.ai
- **Advanced**: Claude manages its own project knowledge repository

See `examples/` for detailed workflows.

## Deployment

**Current Setup**: Tailscale Funnel
- Free stable URLs
- Auto-starts on Mac boot
- Zero maintenance
- See [docs/TAILSCALE_SETUP.md](docs/TAILSCALE_SETUP.md)

**Alternative Options**:
- VPS deployment (always-on server)
- Custom domain with nginx + SSL

## License

MIT
